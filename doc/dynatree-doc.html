<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
	<title>jquery.dynatree.js documentation</title>

	<meta name="keywords" content="dynatree JavaScript JS dynamic html tree view treeview widget plugin for jQuery data structure library ajax open source free">
	<meta name="description" content="dynatree is a JavaScript treeview plugin for jQuery with support for lazy loading of branches.">

	<script src="http://www.google-analytics.com/urchin.js" type="text/javascript"></script>

	<script src='../jquery/jquery.js' type='text/javascript'></script>
	<script src='../jquery/ui.core.js' type='text/javascript'></script>

	<link href='../src/skin/ui.dynatree.css' rel='stylesheet' type='text/css' />
    <script src='../src/jquery.dynatree.js' type='text/javascript'></script>

	<link rel='stylesheet' type='text/css' href='howto.css' />
	<script src='howto.js' type='text/javascript'></script>
	<!-- Automatic TOC generator -->
	<script src='jquery.planize.js' type='text/javascript'></script>
	<!-- PrettyPrint (triggered in onload event) -->
	<link href="prettify.css" rel="stylesheet">
	<script src="prettify.js" language="JavaScript"></script>

	<script type='text/javascript'>
	$(function(){
		// Log to Google Analytics, when not running locally
		if ( document.URL.toLowerCase().indexOf('wwwendt.de/')>=0 ) {
			_uacct = "UA-316028-1";
			urchinTracker();
		}
		// Create TOC
		$("html *").planize({
			title: "Table of contents",
		    min_level: 2,
            generate_toc: true,
            toc_elem: $("#toc")
		});
		// Format code samples
		prettyPrint();
	});
	</script>
</head>

<body>
	<h1>jquery.dynatree documentation</h1>
	<div class="hint">This document describes dynatree <strong>version 0.3 alpha 3</strong>.</div>
	<p>dynatree is a javascript tree view control.<br>
	Main features:
	<ul>
		<li>jQuery plugin
		<li>Open source
		<li>Object oriented interface
		<li>Support for lazy loading
		<li>Keyboard aware
	</ul>
	Known issues: <a href="#issues">see below</a>.
	</p>

	<div id="toc">
	</div>

	<h2>Download</h2>
	<p>
	The current dynatree package is available <a href="http://wwwendt.de/tech/dynatree/index.html" target="_blank">here</a>.<br>
	You find the latest versions of jquery.js and ui.core.js from <a href="http://www.jquery.com" target="_blank">jquery site</a>.
	</p>

	<h2>Usage</h2>
	<p>
	To create a tree, we need to include th JS libraries in the header and add
	a &lt;div> tag to the html code, where the control should appear.<br>
	Then we add some initialization code to document's load event.
	</p>

	<div class="codesample">
	<a href="sample-2.html" target="_blank">Try this example...</a>
	<pre class="prettyprint">
&lt;head>
	[&#8230;]
	&lt;link rel='stylesheet' type='text/css' href='skin/ui.dynatree.css' />
	&lt;script src='jquery/jquery.js' type='text/javascript'>&lt;/script>
	&lt;script src='jquery/ui.core.js' type='text/javascript'>&lt;/script>
	&lt;script src='jquery.dynatree.js' type='text/javascript'>&lt;/script>
	[&#8230;]
	&lt;script type='text/javascript'>
	$(function(){
		$("#tree").dynatree({
			onSelect: function(tn) {
				alert("You selected " + tn);
			},
			initObj: [
				{title: "Item 1"},
				{title: "Folder 2", isFolder=true,
					children: [
						{title: "Sub-item 3.1"},
						{title: "Sub-item 3.2"}
					]
				},
				{title: "Item 4"}
			],
		});
	});
	&lt;/script>
	[&#8230;]
&lt;/head>
&lt;body>
	[&#8230;]
	&lt;div id="tree"> &lt;/div>
	[&#8230;]
&lt;/body>
</pre>
</div>

	<h3>Explanation</h3>
	<p>
	The tree is initialized in the onload event of the html document. In jQuery this is typically done by passing a function to $(..) :
	</p>
<pre class="prettyprint">
&lt;head>
	&lt;script type='text/javascript'>
		$(function(){
			[&#8230;]
		});
	&lt;/script>
&lt;/head>
</pre>

	<p>
	The dynatree widget is then attached to an empty &lt;div > element with a given ID of 'tree'.
	This id can have any value, it only has to match the jQuery selector, in our case '#tree'<br>
	Options are passed to the dynatree() function as a dictionary:
	</p>
<pre class="prettyprint">
			$("#tree").dynatree({
				[&#8230;]
			});
</pre>


<h2>Options</h2>

<p>The following dictionary shows the available options, with their default values.</p>
<pre class="prettyprint">
$("#tree").dynatree({
	title: "dynatree", // Name of the root node
	rootVisible: false, // Set to true, to make the root node visible
	rootCollapsible: false, // TODO: minExpandLevel: 1,
	initId: null, // Init tree structure from a &lt;ul> element with this ID.
	initObject: null, // Init tree structure from this object array.
	focusRoot: true, // Set focus to root node on init.
	keyboard: true, // Support keyboard navigation.
	onSelect: null, // Callback when a node is selected.
	onLazyRead: null, // Callback when a lazy node is expanded for the first time.
	onFocus: null, // Callback when a node receives the focus.
	imagePath: "skin/", // Folder containing icons used.
	autoCollapse: false, // Automatically collapse all siblings, when a node is expanded.
	expandOnAdd: false, // Automatically expand parent, when a child is added.
	selectExpandsFolders: true, // Clicking a folder title expands the folder, instead of selecting it.
	strings: {
		loading: "Loading&#8230;",
		loadError: "Load error!"
	},
	classnames: {
		container: "ui-dynatree-container",
		hidden: "ui-dynatree-hidden",
		disabled: "ui-dynatree-disabled",
		selected: "ui-dynatree-selected",
		folder: "ui-dynatree-folder",
		focused: "ui-dynatree-focused",
		loading: "ui-dynatree-loading"
	}
});
</pre>


	<h2>Initializing the tree structure</h2>
	<p>
	A tree structure is made of <i>nodes</i>. Every tree node may in turn contain
	a list child nodes.<br>
	A new dynatree always has exactly one <i>root node</i>, that is usually hidden.
	All top level nodes of our tree are added below this root node.
	</p>

	<h3>Initializing the tree structure from an object array</h3>
	<p>
	The example above shows how to a tree is initialized by passing an
	array of data objects with the <code>initObj</code> option.<br>
	The &lt;div> tag can be empty in this case.
	</p>
	<div class="codesample">
	<a href="sample-2.html" target="_blank">Try this example...</a>
	<pre class="prettyprint">
&lt;head>
	[&#8230;]
	&lt;script type='text/javascript'>
	$(function(){
		$("#tree").dynatree({
			initObj: [
				{title: "Item 1"},
				{title: "Item 2"},
				{title: "Folder 3", isFolder=true,
					children: [
						{title: "Sub-item 3.1"},
						{title: "Sub-item 3.2"}
					]
				},
				{title: "Item 4"}
			],
			onSelect: function(tn) {
				alert("You selected " + tn);
			}
		});
	});
	&lt;/script>
	[&#8230;]
&lt;/head>
&lt;body>
	[&#8230;]
	&lt;div id="tree"> &lt;/div>
	[&#8230;]
&lt;/body>
</pre>
</div>

	<p>The follwing snippet shows all attributes that can be used to define a tree node, along with their default values.</p>
<pre class="prettyprint">
			initObj: [
				{
					title: undefined, // (required) Name of the root node (html is allowed here)
					key: undefined, // May be used with select(), find(), ...
					isFolder: false, // Use a folder icon. Also the node is expandable but not selectable.
					isLazy: false, // Call tree.options.onLazyRead() when the node is expanded for the first time to allow for delayed creation of children.
					expanded: false, // Passed as &lt;li data="expanded: true">.
					tooltip: undefined, // Show this popup text.
					icon: undefined, // Use a custom image (filename relative to tree.options.imagePath)
					// NOTE that it is possible to add any custom attributes to the data object.
					// This may then also be used in the onSelect() or on onLazyTree() callbacks.
				},
				[&#8230;]
			]
</pre>
<p>
	It is possible to add any custom attributes to the data object. This may then also be used in the onSelect() or on onLazyTree() callbacks.

</p>
	<h3>TODO: Initializing the tree structure from an AJAX response</h3>
<p>Instead of passing an array of data objects, we can pass a url in the <code>initUrl</code> option that will be used to contact a AJAX webservice.
This webservice is expected to return an object array as JSON response.</p>
<pre class="prettyprint">
$("#tree").dynatree({
	initUrl: "http://myserver.com/sendmeit?key=123",
	[&#8230;]
});
</pre>


	<h3>Initializing the tree structure from a &lt;ul> element</h3>
	<p>
	If the container &lt;div> element contains a &lt;ul> element, the tree node titles are read from the &lt;li> text.
	Additional options can specified in a <code>data</code> attribut of a &lt;li> tag.<br>
	Nesting &lt;ul> elements are used to build a hierarchivcal tree structure.
	</p>
	<div class="codesample">
	<a href="sample-1.html" target="_blank">Try this example...</a>
	<pre class="prettyprint">
&lt;head>
	[&#8230;]
	&lt;script type='text/javascript'>
	$(function(){
		$("#tree").dynatree({
			onSelect: function(tn) {
				alert("You selected " + tn);
			}
		});
	});
	&lt;/script>
	[&#8230;]
&lt;/head>
&lt;body>
	[&#8230;]
		&lt;div id="tree">
			&lt;ul>
				&lt;li data="key: '1'">item1 with key and tooltip
				&lt;li data="key: '2'">item2
				&lt;li data="key: '3', isFolder: true">&lt;span>Folder with some children&lt;/span>
					&lt;ul>
						&lt;li data="key: '3.1'">Sub-item 3.1
						&lt;li data="key: '3.2'">Sub-item 3.2
					&lt;/ul>

				&lt;li data="key: '4', expanded: true">&lt;span>Document with some children&lt;/span>
					&lt;ul>
						&lt;li data="key: '4.1'">Sub-item 4.1
						&lt;li data="key: '4.2'">Sub-item 4.2
					&lt;/ul>
			&lt;/ul>
		&lt;/div>
	[&#8230;]
&lt;/body>
</pre>
	</div>

	<h3>Initializing the tree structure progamatically</h3>
<p>Finally, it is always possible to program the Tree and TreeNode objects directly.</p>
<div class="codesample">
	<a href="sample-2.html" target="_blank">Try this example...</a>
	<pre class="prettyprint">
	$(function(){
		$("#tree").dynatree({
			onSelect: function(tn) {
				alert("You selected " + tn);
			}
		});
	});
</pre>
</div>

<h2>Handling events</h2>

<p>
This is why we want a tree after all.
When a user clicks a node, we want to react in some  way.
</p>

<h3>Handling select/click</h3>

<p>
This is passing a onSelect callback fucntion:
</p>
<pre class="prettyprint">
[&#8230;]
</pre>

<h3>Handling focus</h3>
<p>dynatree supports loading of tree nodes </p>

This is passing a onFocus callback fucntion:
</p>
<pre class="prettyprint">
[&#8230;]
</pre>

<h3>Loading data on demand</h3>
<p>dynatree supports loading of tree nodes </p>
<div class="codesample">
	<a href="sample-2.html" target="_blank">Try this example...</a>
	<pre class="prettyprint">
[&#8230;]
</pre>
</div>

<h2>Theming</h2>
<p>To apply a custom skin, change the image folder and include a custom .css file:</p>
<div class="codesample">
	<a href="sample-theming.html" target="_blank">Try this example...</a>
	<pre class="prettyprint">
[&#8230;]
</pre>
</div>

<h2><a id="issues" />Known issues</h2>
<p>
	First of all: this is work in progess, and still alpha. Please send your feedback to <u>martin(at)wwWendt.de</u>.<br>
	The main things that should be addressed are
	<ul>
		<li>The interface, usage, naming conventions, etc. could probably be more jQuery-ish.<br>
			Any feedback from experienced plugin developers is very welcome!
		<li>So far I am only testing Windows, IE 7 and FF 3. Maybe a little bit of IE 6/8, Safari and FF2.
		<li>The code should be hosted more community friendly. Also some forum and issue tracker should be available.
		<li>The internal implementation of dynatree could make more use of jQuery technique.
			So far it's based on the lazytree implementations which was indepent of any library.
	</ul>
</p>

<h2>Sample</h2>
<p>Sample</p>
<div class="codesample">
	<a href="#" target="_blank">Try this example...</a>
	<pre class="prettyprint">
[&#8230;]
</pre>
</div>

</body>
</html>
